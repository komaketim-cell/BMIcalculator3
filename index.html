<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุญุงุณุจูโฺฏุฑ BMI ูพุดุฑูุชู</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- ===== ุตูุญู ูุฑูุฏ ===== -->
    <div class="page active" id="input-page">
        <div class="container">
            <div class="header">
                <h1>ูุญุงุณุจู ุดุงุฎุตโูุง ุณูุงูุช</h1>
                <p id="motivation-text"></p>
            </div>

            <div class="card">
                <div id="error-message" class="error"></div>

                <div class="input-group">
                    <label>ุฌูุณุช:</label>
                    <select id="gender">
                        <option value="ูุฑุฏ">ูุฑุฏ</option>
                        <option value="ุฒู">ุฒู</option>
                    </select>
                </div>

                <div class="input-group">
                    <label>ุชุงุฑุฎ ุชููุฏ (ุดูุณ):</label>
                    <div style="display: flex; gap: 10px;">
                        <select id="birth-year" style="flex: 2;"><option value="">ุณุงู</option></select>
                        <select id="birth-month" style="flex: 1;">
                            <option value="">ูุงู</option>
                            <option value="1">ูุฑูุฑุฏู</option>
                            <option value="2">ุงุฑุฏุจูุดุช</option>
                            <option value="3">ุฎุฑุฏุงุฏ</option>
                            <option value="4">ุชุฑ</option>
                            <option value="5">ูุฑุฏุงุฏ</option>
                            <option value="6">ุดูุฑูุฑ</option>
                            <option value="7">ููุฑ</option>
                            <option value="8">ุขุจุงู</option>
                            <option value="9">ุขุฐุฑ</option>
                            <option value="10">ุฏ</option>
                            <option value="11">ุจููู</option>
                            <option value="12">ุงุณููุฏ</option>
                        </select>
                        <select id="birth-day" style="flex: 1;"><option value="">ุฑูุฒ</option></select>
                    </div>
                </div>

                <div class="input-group">
                    <label>ูุฏ (ุณุงูุชโูุชุฑ):</label>
                    <input type="number" id="height" min="50" max="250" placeholder="ูุซุงู: 175">
                </div>

                <div class="input-group">
                    <label>ูุฒู (ฺฉููฺฏุฑู):</label>
                    <input type="number" id="weight" min="2" max="300" step="0.1" placeholder="ูุซุงู: 70">
                </div>

                <!-- โ ููุฏ ุฌุฏุฏ: ุฏูุฑ ฺฉูุฑ (ุงุฎุชุงุฑ) -->
                <div class="input-group">
                    <label>ุฏูุฑ ฺฉูุฑ (ุณุงูุชโูุชุฑ) - ุงุฎุชุงุฑ:</label>
                    <input type="number" id="waist" min="40" max="200" step="0.1" placeholder="ูุซุงู: 85 (ุฏุฑ ุตูุฑุช ุชูุงู ูุงุฑุฏ ฺฉูุฏ)">
                    <small style="color: #64748B; font-size: 0.85em; display: block; margin-top: 5px;">
                        ๐ก ุจุฑุง ุชุญูู ุฏููโุชุฑ ฺุฑุจ ุดฺฉูุ ุฏูุฑ ฺฉูุฑ ุฑุง ุงูุฏุงุฒู ุจฺฏุฑุฏ
                    </small>
                </div>

                <div class="input-group">
                    <label>ุณุทุญ ูุนุงูุช:</label>
                    <select id="activity">
                        <option value="1.2">ฺฉูโุชุญุฑฺฉ (ุจุฏูู ูุฑุฒุด)</option>
                        <option value="1.375">ูุนุงูุช ุณุจฺฉ (1-3 ุฑูุฒ ุฏุฑ ููุชู)</option>
                        <option value="1.55" selected>ูุนุงูุช ูุชูุณุท (3-5 ุฑูุฒ ุฏุฑ ููุชู)</option>
                        <option value="1.725">ูุนุงูุช ุฒุงุฏ (6-7 ุฑูุฒ ุฏุฑ ููุชู)</option>
                        <option value="1.9">ูุนุงูุช ุจุณุงุฑ ุฒุงุฏ (ูุฑุฒุดฺฉุงุฑ ุญุฑููโุง)</option>
                    </select>
                </div>

                <button id="calculate-btn" class="btn-primary">ูุญุงุณุจู</button>
                <button id="help-btn" class="btn-secondary" style="width: 100%; margin-top: 10px;">ุฑุงูููุง</button>
            </div>
        </div>
    </div>

    <!-- ===== ุตูุญู ูุชุงุฌ ===== -->
    <div class="page" id="results-page">
        <div class="container">
            <div class="header">
                <h1>ูุชุงุฌ ุชุญูู ุณูุงูุช</h1>
                <p>ุชุญูู ุฌุงูุน ุดุงุฎุตโูุง ุจุฏู ุดูุง</p>
            </div>

            <div class="info-summary">
                <div class="info-item">
                    <span class="info-label">ุฌูุณุช:</span>
                    <span class="info-value" id="r-gender">--</span>
                </div>
                <div class="info-item">
                    <span class="info-label">ุณู:</span>
                    <span class="info-value" id="r-age">--</span>
                </div>
                <div class="info-item">
                    <span class="info-label">ูุฏ:</span>
                    <span class="info-value" id="r-height">--</span>
                </div>
                <div class="info-item">
                    <span class="info-label">ูุฒู:</span>
                    <span class="info-value" id="r-weight">--</span>
                </div>
            </div>

            <div class="card bmi-card">
                <h3>ุดุงุฎุต ุชูุฏู ุจุฏู (BMI)</h3>
                <div class="bmi-display">
                    <div id="bmi-circle" class="bmi-circle">
                        <span id="bmi-value">--</span>
                    </div>
                    <div class="bmi-details">
                        <div class="bmi-status">
                            <strong>ูุถุนุช:</strong> <span id="bmi-status-text"></span>
                        </div>
                        <div class="bmi-difference">
                            <span id="bmi-difference-text"></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- โ ฺฉุงุฑุช ุฌุฏุฏ: ูุณุจุช ุฏูุฑ ฺฉูุฑ ุจู ูุฏ (WHtR) -->
            <div class="card whtr-card" id="whtr-card" style="display: none;">
                <h3>ูุณุจุช ุฏูุฑ ฺฉูุฑ ุจู ูุฏ (WHtR)</h3>
                <div class="whtr-display">
                    <div id="whtr-circle" class="whtr-circle">
                        <span id="whtr-value">--</span>
                    </div>
                    <div class="whtr-details">
                        <div class="whtr-status">
                            <strong>ูุถุนุช:</strong> <span id="whtr-status-text"></span>
                        </div>
                        <div class="whtr-risk">
                            <span id="whtr-risk-text"></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card result-card">
                <h3>ูุญุฏูุฏู ูุฒู ุณุงูู</h3>
                <div class="result-value" id="r-healthy">--</div>
            </div>

            <div class="results-grid">
                <div class="card result-card">
                    <h3>BMR</h3>
                    <p class="result-label">ูุชุงุจููุณู ูพุงู</p>
                    <div class="result-value" id="r-bmr">--</div>
                </div>
                <div class="card result-card">
                    <h3>TDEE</h3>
                    <p class="result-label">ฺฉุงูุฑ ุฑูุฒุงูู</p>
                    <div class="result-value" id="r-tdee">--</div>
                </div>
            </div>

            <div class="card">
                <h3>ุชูุตูโูุง ฺฉุงูุฑ</h3>
                <div class="calorie-recommendations">
                    <div class="calorie-item">
                        <span class="calorie-label">ฺฉุงูุฑ ุซุงุจุช ูฺฏู ุฏุงุดุชู ูุฒู:</span>
                        <span class="calorie-value" id="maintain-calories">--</span>
                    </div>
                    <div class="calorie-item">
                        <span class="calorie-label">ฺฉุงูุฑ ุงูุฒุงุด ูุฒู ู ุญุฌู ุนุถูุงุช:</span>
                        <span class="calorie-value" id="gain-calories">--</span>
                    </div>
                    <div class="calorie-item">
                        <span class="calorie-label">ฺฉุงูุฑ ฺฉุงูุด ูุฒู ุจุฏูู ุงูุช ุนุถูุงุช:</span>
                        <span class="calorie-value" id="loss-calories">--</span>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>๐ก ุชูุตูโูุง ฺฉุงุฑุจุฑุฏ</h3>
                <div id="practical-tips"></div>
            </div>

            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button id="back-btn" class="btn-primary" style="flex: 1;">ูุญุงุณุจู ูุฌุฏุฏ</button>
                <button id="pdf-btn" style="flex: 1;">๐ ุฏุงูููุฏ PDF</button>
            </div>

            <button id="help-btn2" class="btn-secondary" style="width: 100%; margin-top: 10px;">ุฑุงูููุง</button>
        </div>
    </div>

    <!-- ===== ุตูุญู ูพุฑููุงู ู ุชุงุฑุฎฺู ===== -->
    <div class="page" id="profile-page">
        <div class="container">
            <div class="header">
                <h1>๐ ูพุฑููุงู ู ุชุงุฑุฎฺู</h1>
            </div>

            <div class="card">
                <h3>ุชุงุฑุฎฺู ูุญุงุณุจุงุช</h3>
                <div id="history-list"></div>
                <button id="clear-history-btn" class="btn-secondary" style="margin-top: 15px;">ูพุงฺฉ ฺฉุฑุฏู ุชุงุฑุฎฺู</button>
            </div>

            <button id="profile-back-btn" class="btn-primary" style="width: 100%; margin-top: 20px;">ุจุงุฒฺฏุดุช</button>
        </div>
    </div>

    <!-- ===== ูุงูุจ PDF ูุฎู ===== -->
    <div id="pdf-template" style="display: none;">
        <div class="pdf-header">
            <h1>ฺฏุฒุงุฑุด ุชุญูู ุดุงุฎุตโูุง ุณูุงูุช</h1>
            <p class="pdf-date" id="pdf-date"></p>
        </div>

        <div class="pdf-section">
            <h2 class="pdf-section-title">
                <span class="pdf-section-icon">๐ค</span>
                ุงุทูุงุนุงุช ูุฑุฏ
            </h2>
            <div class="pdf-info-cards">
                <div class="pdf-info-card">
                    <div class="pdf-info-card-label">ุฌูุณุช</div>
                    <div class="pdf-info-card-value" id="pdf-gender">--</div>
                </div>
                <div class="pdf-info-card">
                    <div class="pdf-info-card-label">ุณู</div>
                    <div class="pdf-info-card-value" id="pdf-age">--</div>
                </div>
                <div class="pdf-info-card">
                    <div class="pdf-info-card-label">ูุฏ</div>
                    <div class="pdf-info-card-value" id="pdf-height">--</div>
                </div>
                <div class="pdf-info-card">
                    <div class="pdf-info-card-label">ูุฒู</div>
                    <div class="pdf-info-card-value" id="pdf-weight">--</div>
                </div>
            </div>
        </div>

        <div class="pdf-section">
            <h2 class="pdf-section-title">
                <span class="pdf-section-icon">๐</span>
                ุดุงุฎุต ุชูุฏู ุจุฏู (BMI)
            </h2>
            <div class="pdf-bmi-container">
                <div class="pdf-bmi-circle" id="pdf-bmi-circle-style">
                    <span class="pdf-bmi-value" id="pdf-bmi">--</span>
                    <span class="pdf-bmi-label">BMI</span>
                </div>
                <div class="pdf-bmi-details">
                    <div class="pdf-bmi-status">
                        <div class="pdf-bmi-status-label">ูุถุนุช ูุนู</div>
                        <div class="pdf-bmi-status-value" id="pdf-status">--</div>
                    </div>
                    <div class="pdf-bmi-status">
                        <div class="pdf-bmi-status-label">ุชูุงูุช ุจุง ูุฒู ุณุงูู</div>
                        <div class="pdf-bmi-status-value" id="pdf-diff" style="font-size: 14px;">--</div>
                    </div>
                    <div class="pdf-bmi-status" style="border-right-color: #16A34A;">
                        <div class="pdf-bmi-status-label">ูุญุฏูุฏู ูุฒู ุณุงูู</div>
                        <div class="pdf-bmi-status-value" id="pdf-healthy" style="color: #16A34A; font-size: 14px;">--</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- โ ุจุฎุด WHtR ุฏุฑ PDF -->
        <div class="pdf-section" id="pdf-whtr-section" style="display: none;">
            <h2 class="pdf-section-title">
                <span class="pdf-section-icon">๐</span>
                ูุณุจุช ุฏูุฑ ฺฉูุฑ ุจู ูุฏ (WHtR)
            </h2>
            <div class="pdf-whtr-container">
                <div class="pdf-whtr-circle" id="pdf-whtr-circle-style">
                    <span class="pdf-whtr-value" id="pdf-whtr">--</span>
                    <span class="pdf-whtr-label">WHtR</span>
                </div>
                <div class="pdf-whtr-details">
                    <div class="pdf-whtr-status">
                        <div class="pdf-whtr-status-label">ูุถุนุช</div>
                        <div class="pdf-whtr-status-value" id="pdf-whtr-status">--</div>
                    </div>
                    <div class="pdf-whtr-status">
                        <div class="pdf-whtr-status-label">ุฑุณฺฉ ุณูุงูุช</div>
                        <div class="pdf-whtr-status-value" id="pdf-whtr-risk" style="font-size: 13px;">--</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="pdf-section">
            <h2 class="pdf-section-title">
                <span class="pdf-section-icon">๐ฅ</span>
                ุงุทูุงุนุงุช ูุชุงุจููุณู
            </h2>
            <div class="pdf-metabolism-cards">
                <div class="pdf-metabolism-card">
                    <div class="pdf-metabolism-label">ูุชุงุจููุณู ูพุงู (BMR)</div>
                    <div class="pdf-metabolism-value" id="pdf-bmr">--</div>
                </div>
                <div class="pdf-metabolism-card">
                    <div class="pdf-metabolism-label">ฺฉุงูุฑ ุฑูุฒุงูู (TDEE)</div>
                    <div class="pdf-metabolism-value" id="pdf-tdee">--</div>
                </div>
            </div>
        </div>

        <div class="pdf-section">
            <h2 class="pdf-section-title">
                <span class="pdf-section-icon">๐ฝ๏ธ</span>
                ุฑุงูููุง ฺฉุงูุฑ ุฑูุฒุงูู
            </h2>
            <div class="pdf-calories-grid">
                <div class="pdf-calorie-card">
                    <div class="pdf-calorie-label">ุญูุธ ูุฒู</div>
                    <div class="pdf-calorie-value" id="pdf-maintain">--</div>
                </div>
                <div class="pdf-calorie-card">
                    <div class="pdf-calorie-label">ุงูุฒุงุด ูุฒู</div>
                    <div class="pdf-calorie-value" id="pdf-gain">--</div>
                </div>
                <div class="pdf-calorie-card">
                    <div class="pdf-calorie-label">ฺฉุงูุด ูุฒู</div>
                    <div class="pdf-calorie-value" id="pdf-loss">--</div>
                </div>
            </div>
        </div>

        <div class="pdf-section pdf-tips-section">
            <h2 class="pdf-tips-title">
                <span>๐ก</span>
                ุชูุตูโูุง ฺฉุงุฑุจุฑุฏ
            </h2>
            <ul class="pdf-tips-list" id="pdf-tips-content"></ul>
        </div>

        <div class="pdf-footer">
            <div class="pdf-footer-logo">
                <img src="logo.png" alt="ฺฉูฺฉุชู" onerror="this.style.display='none'">
                <div class="pdf-footer-text">
                    <strong>ุงู ฺฏุฒุงุฑุด ุชูุณุท ุชู ฺฉูฺฉุชู ุชููุฏ ุดุฏู ุงุณุช</strong>
                    ุงู ฺฏุฒุงุฑุด ุฌูุจู ุงุทูุงุนโุฑุณุงู ุฏุงุฑุฏ ู ุฌุงฺฏุฒู ูุดุงูุฑู ูพุฒุดฺฉ ูุณุช
                    <div class="pdf-footer-website">Komaketim.ir</div>
                </div>
            </div>
        </div>
    </div>

    <!-- โ ููุฏ ฺฉุฑุฏู ฺฉุชุงุจุฎุงููโูุง ุฎุงุฑุฌ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <!-- โ ููุฏ ฺฉุฑุฏู ูุงูโูุง JS -->
    <script src="who-data.js"></script>
    <script src="bmi.js"></script>
    <script src="profile-report.js"></script>

</body
